# Knowledge Graph-RAG System Configuration
# Copy this file to .env and configure for your environment

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO
OFFLINE_MODE=true

# =============================================================================
# NEO4J DATABASE CONFIGURATION
# =============================================================================
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your_secure_password_here
NEO4J_DATABASE=neo4j
NEO4J_MAX_CONNECTION_LIFETIME=3600
NEO4J_MAX_CONNECTION_POOL_SIZE=50
NEO4J_CONNECTION_TIMEOUT=30

# =============================================================================
# AI/ML MODEL CONFIGURATION
# =============================================================================
# Embedding Model Configuration
EMBEDDING_MODEL=BAAI/bge-large-en-v1.5
EMBEDDING_DEVICE=cpu
EMBEDDING_BATCH_SIZE=32
EMBEDDING_MAX_LENGTH=512

# Google ADK Configuration (Offline)
GOOGLE_ADK_MODEL_PATH=/app/models/gemini-offline
GOOGLE_ADK_API_KEY=offline_placeholder
GOOGLE_ADK_PROJECT_ID=offline_project
GOOGLE_ADK_TEMPERATURE=0.1
GOOGLE_ADK_MAX_TOKENS=2048

# Model Cache Configuration
MODEL_CACHE_DIR=/app/models
EMBEDDING_CACHE_SIZE=10000
VECTOR_INDEX_CACHE_SIZE=50000

# =============================================================================
# MCP SERVER CONFIGURATION
# =============================================================================
MCP_SERVER_HOST=localhost
MCP_SERVER_PORT=8001
MCP_SERVER_CONFIG=/app/config/mcp_servers.yaml
MCP_LOG_LEVEL=INFO

# Knowledge Graph MCP
KNOWLEDGE_GRAPH_MCP_PORT=8002
VECTOR_SEARCH_MCP_PORT=8003
DOCUMENT_PROCESSING_MCP_PORT=8004
ANALYTICS_MCP_PORT=8005

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_TIMEOUT=300
API_MAX_REQUEST_SIZE=100MB

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_CREDENTIALS=true
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# JWT Configuration
JWT_SECRET_KEY=your_jwt_secret_key_here_change_in_production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Encryption Configuration
ENCRYPTION_KEY=your_encryption_key_here_32_bytes_long
SALT_ROUNDS=12

# API Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# AI DIGITAL TWINS CONFIGURATION
# =============================================================================
# Persona Configuration
PERSONA_CONFIG_PATH=/app/config/personas
DEFAULT_PERSONA=compliance_officer
PERSONA_LEARNING_RATE=0.1
PERSONA_ADAPTATION_THRESHOLD=0.8

# Expert Twin Configuration
EXPERT_TWINS_ENABLED=true
EXPERT_VALIDATION_THRESHOLD=0.85
EXPERT_CONSENSUS_REQUIRED=2

# User Journey Twin Configuration
USER_JOURNEY_TRACKING=true
JOURNEY_ANALYTICS_ENABLED=true
PERSONA_INTERACTION_LOGGING=true

# =============================================================================
# VECTOR SEARCH CONFIGURATION
# =============================================================================
# FAISS Configuration
FAISS_INDEX_TYPE=IVFFlat
FAISS_NLIST=100
FAISS_NPROBE=10
FAISS_METRIC_TYPE=INNER_PRODUCT

# Vector Search Parameters
VECTOR_SEARCH_TOP_K=20
VECTOR_SEARCH_THRESHOLD=0.7
HYBRID_SEARCH_WEIGHT_VECTOR=0.6
HYBRID_SEARCH_WEIGHT_GRAPH=0.4

# =============================================================================
# DATA PROCESSING CONFIGURATION
# =============================================================================
# Document Processing
MAX_DOCUMENT_SIZE=50MB
CHUNK_SIZE=512
CHUNK_OVERLAP=50
CHUNK_QUALITY_THRESHOLD=0.7

# Content Validation
CONTENT_VALIDATION_ENABLED=true
QUALITY_SCORE_THRESHOLD=0.65
EMBEDDING_QUALITY_THRESHOLD=0.6

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================
# Prometheus Configuration
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
METRICS_ENDPOINT=/metrics

# Logging Configuration
LOG_FORMAT=json
LOG_ROTATION=daily
LOG_RETENTION_DAYS=90
AUDIT_LOG_ENABLED=true

# Health Check Configuration
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# COMPLIANCE AND AUDIT CONFIGURATION
# =============================================================================
# FedRAMP Configuration
FEDRAMP_COMPLIANCE_MODE=true
AUDIT_LOG_ENCRYPTION=true
DATA_RETENTION_YEARS=7
COMPLIANCE_VALIDATION_INTERVAL=daily

# Security Scanning
VULNERABILITY_SCANNING=true
SECURITY_SCAN_INTERVAL=weekly
COMPLIANCE_REPORT_GENERATION=monthly

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
# System Resources
MAX_MEMORY_USAGE=8GB
MAX_CPU_USAGE=80
THREAD_POOL_SIZE=10
ASYNC_WORKER_COUNT=20

# Cache Configuration
REDIS_URL=redis://localhost:6379/0
CACHE_TTL=3600
QUERY_CACHE_SIZE=1000
RESULT_CACHE_SIZE=5000

# Database Connection Pooling
DB_POOL_SIZE=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Development Tools
ENABLE_DEBUG_TOOLBAR=true
ENABLE_PROFILING=false
ENABLE_MOCK_DATA=false

# Testing Configuration
TEST_DATABASE_URL=bolt://localhost:7688
TEST_VECTOR_INDEX_PATH=/tmp/test_vectors
PYTEST_TIMEOUT=300

# =============================================================================
# BACKUP AND RECOVERY
# =============================================================================
# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=daily
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION=true

# Recovery Configuration
DISASTER_RECOVERY_ENABLED=true
BACKUP_VERIFICATION=true
POINT_IN_TIME_RECOVERY=true